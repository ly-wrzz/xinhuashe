"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i){Date.prototype.format=function(e){var n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var t in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e},String.prototype.str2json=function(e){for(var n=this.indexOf("?"),t=this.substr(n+1).split("&"),o={},i=0;i<t.length;i++)if(0<(n=t[i].indexOf("="))){var r=t[i].substring(0,n),a=t[i].substr(n+1);o[r.toLowerCase()]=decodeURIComponent(a)}return e?o[e=e.toLowerCase()]?o[e]:"":o},i.fn.render=function(e){var n="string"!=typeof e?e:null;n&&(e=null),i(e=e||"section").removeClass("active"),this.addClass("active"),this.trigger("render",n)},i.fn.form2json=function(){var t={};return this.find("[name]").each(function(){var e=i(this).attr("name"),n=i(this).val();t[e]=n}),t},function(){"object"==("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e));var e=function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}}();var e,n,t,o={ua:(e=navigator.userAgent,n=navigator.userAgent.toLowerCase(),(t={trident:-1<e.indexOf("Trident"),presto:-1<e.indexOf("Presto"),webKit:-1<e.indexOf("AppleWebKit"),gecko:-1<e.indexOf("Gecko")&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<e.indexOf("Android")||-1<e.indexOf("Linux"),iPhone:-1<e.indexOf("iPhone"),iPad:-1<e.indexOf("iPad"),webApp:-1==e.indexOf("Safari"),iosv:e.substr(e.indexOf("iPhone OS")+9,3),weixin:"micromessenger"==n.match(/MicroMessenger/i),ali:-1<e.indexOf("AliApp")}).weixin=t.weixin&&t.mobile,t),BDTJ:function(e,n){window._hmt?(n=n||"",_hmt.push(["_trackEvent",e,n,(new Date).format("yyyy-MM-dd")])):console.error("please create tongji script")},qrcodeUrl:function(e){return"http://wandafilm.xhgai.com/service/test/qrcode.php?margin=1&text="+encodeURIComponent(e)},upload:function(e,o){window.EXIF?e.change(function(){var e=i(this)[0].files;if(0<e.length){layer.loading();var n=URL.createObjectURL(e[0]),t=new Image;t.onload=function(){var e=0;switch(EXIF.getTag(this,"Orientation")){case 3:e=180;break;case 6:e=90;break;case 8:e=270}o(n,e)},t.src=n}}):console.error("please import EXIF.js")},share:function(e){if(window.wx){e=i.extend({},{title:"分享标题",desc:"分享描述语",link:"",imgUrl:"",trigger:function(){},cancel:function(){},success:function(){BDTJ("EVENT","分享到朋友圈")},fail:function(){}},e),window.wxShareConfig=e;var n={appId:"",secret:"",url:window.location.href.split("#")[0]};i.ajax({type:"GET",dataType:"jsonp",url:"http://app.xhgai.com/webapps/weixinservice/weixinservice.php?callback=?",data:{param:JSON.stringify(n)},async:!1,success:function(e){wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow"]}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:copyUrl","menuItem:openWithQQBrowser","menuItem:openWithSafari"]}),wx.onMenuShareTimeline(window.wxShareConfig),wx.onMenuShareAppMessage(window.wxShareConfig)})}})}else console.error("please import https://res.wx.qq.com/open/js/jweixin-1.2.0.js")},autoPlay:function(e){this.ua.weixin?document.addEventListener("WeixinJSBridgeReady",function(){e&&e()},!1):e&&e()},afterInput:function(){window.scrollSmoothTo=function(t){window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){return setTimeout(e,17)});var o=document.documentElement.scrollTop||document.body.scrollTop;!function e(){var n=t-o;o+=n/5,Math.abs(n)<1?window.scrollTo(0,t):(window.scrollTo(0,o),requestAnimationFrame(e))}()},window.screenTop=0,i("body").on("focus","input,textarea",function(){var e=document.documentElement.scrollTop||document.body.scrollTop;window.screenTop=e}).on("blur","input,textarea",function(){window.scrollSmoothTo(window.screenTop)})},music:function(e,n){i("#"+(e=e||"music")).click(function(){if(i(this).toggleClass("playing"),n){var e=document.getElementById(n);e.paused?e.play():e.pause()}})},remote:function(n){var t=i.extend({type:"POST",dataType:"json",success:function(){},error:function(){}},n);return t.noLayer=!1===n.layer,t.success=function(e){t.noLayer||layer.closeAll(),0==e.code?n.success&&n.success(e.data):n.error&&n.error(e)},t.error=function(e){layer.info("网络异常，请稍后重试")},t.noLayer||layer.loading(),i.ajax(t)}};window.hocodo=o}(jQuery),$(function(){});